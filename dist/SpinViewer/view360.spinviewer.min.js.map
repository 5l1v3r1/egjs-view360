{"version":3,"file":"SpinViewer/view360.spinviewer.min.js","sources":["webpack:///SpinViewer/view360.spinviewer.min.js"],"sourcesContent":["!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t(require(\"@egjs/component\"),require(\"@egjs/axes\")):\"function\"==typeof define&&define.amd?define(\"view360\",[\"@egjs/component\",\"@egjs/axes\"],t):\"object\"==typeof exports?exports.view360=t(require(\"@egjs/component\"),require(\"@egjs/axes\")):(e.eg=e.eg||{},e.eg.view360=t(e.eg.Component,e.eg.Axes))}(this,function(e,t){return function(e){function __webpack_require__(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,__webpack_require__),o.l=!0,o.exports}var t={};return __webpack_require__.m=e,__webpack_require__.c=t,__webpack_require__.i=function(e){return e},__webpack_require__.d=function(e,t,n){__webpack_require__.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e[\"default\"]}:function(){return e};return __webpack_require__.d(t,\"a\",t),t},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.p=\"\",__webpack_require__(__webpack_require__.s=23)}([function(t,n){t.exports=e},,,function(e,t,n){\"use strict\";t.__esModule=!0;var o=\"undefined\"!=typeof window&&window.Math===Math?window:\"undefined\"!=typeof self&&self.Math===Math?self:Function(\"return this\")(),r=o.document;t.window=o,t.document=r},,,function(e,t,n){\"use strict\";(function(e){t.__esModule=!0,t.devicePixelRatio=t.DeviceMotionEvent=t.SUPPORT_WILLCHANGE=t.SUPPORT_DEVICEMOTION=t.SUPPORT_TOUCH=t.TRANSFORM=t.userAgent=t.getComputedStyle=t.Float32Array=undefined;var o=n(3);o.window.Float32Array=\"undefined\"!=typeof o.window.Float32Array?o.window.Float32Array:o.window.Array;var r=o.window.Float32Array,i=o.window.getComputedStyle,a=o.window.navigator.userAgent,u=\"ontouchstart\"in o.window,l=\"ondevicemotion\"in o.window,s=o.window.DeviceMotionEvent,c=window.devicePixelRatio,_=function(){for(var e=o.document.documentElement.style,t=[\"transform\",\"webkitTransform\",\"msTransform\",\"mozTransform\"],n=0,r=t.length;n<r;n++)if(t[n]in e)return t[n];return\"\"}(),p=e.CSS&&e.CSS.supports&&e.CSS.supports(\"will-change\",\"transform\");t.Float32Array=r,t.getComputedStyle=i,t.userAgent=a,t.TRANSFORM=_,t.SUPPORT_TOUCH=u,t.SUPPORT_DEVICEMOTION=l,t.SUPPORT_WILLCHANGE=p,t.DeviceMotionEvent=s,t.devicePixelRatio=c}).call(t,n(11))},,,function(e,n){e.exports=t},,function(e,t){var n;n=function(){return this}();try{n=n||Function(\"return this\")()||(0,eval)(\"this\")}catch(o){\"object\"==typeof window&&(n=window)}e.exports=n},,function(e,t,n){\"use strict\";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function _inherits(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var o=n(0),r=function(e){return e&&e.__esModule?e:{\"default\":e}}(o),i=n(6),a=function(e){function SpriteImage(t,n){_classCallCheck(this,SpriteImage);var o=_possibleConstructorReturn(this,e.call(this)),r=n||{};return o._el=t,o._rowCount=r.rowCount||1,o._colCount=r.colCount||1,o._totalCount=o._rowCount*o._colCount,o._width=r.width||\"auto\",o._height=r.height||\"auto\",o._autoHeight=null!=r.autoHeight?r.autoHeight:\"true\",o._colRow=[0,0],r.colRow?o._colRow=r.colRow:r.frameIndex&&o.setFrameIndex(r.frameIndex),o._el.style.width=SpriteImage._getSizeString(o._width),o._el.style.height=SpriteImage._getSizeString(o._height),r.imageUrl?(o._image=new Image,o._image.onload=function(){o._bg=SpriteImage._createBgDiv(o._image,o._rowCount,o._colCount,o._autoHeight),o._el.appendChild(o._bg),o.setColRow(o._colRow[0],o._colRow[1]),o.trigger(\"load\",{target:o._el,bgElement:o._bg}),o._autoPlayReservedInfo&&(o.play(o._autoPlayReservedInfo),o._autoPlayReservedInfo=null)},o._image.onerror=function(e){o.trigger(\"imageError\",{imageUrl:r.imageUrl})},o._image.src=r.imageUrl,o):(setTimeout(function(){o.trigger(\"imageError\",{imageUrl:r.imageUrl})},0),_possibleConstructorReturn(o))}return _inherits(SpriteImage,e),SpriteImage._createBgDiv=function(e,t,n,o){var r=document.createElement(\"div\");r.style.position=\"relative\",r.style.overflow=\"hidden\",e.style.position=\"absolute\",e.style.width=100*n+\"%\",e.style.height=100*t+\"%\",e.ondragstart=function(){return!1},i.SUPPORT_WILLCHANGE&&(e.style.willChange=\"transform\"),r.appendChild(e);var a=e.width/n,u=e.height/t;if(o){var l=u/a;r.style.paddingBottom=100*l+\"%\"}else r.style.height=\"100%\";return r},SpriteImage.prototype.setFrameIndex=function(e){var t=this.toColRow(e);this.setColRow(t[0],t[1])},SpriteImage.prototype.getFrameIndex=function(){return this._colRow[1]*this._colCount+this._colRow[0]},SpriteImage.prototype.setColRow=function(e,t){t>this._rowCount-1||e>this._colCount-1||(this._image&&i.TRANSFORM&&(this._image.style[i.TRANSFORM]=\"translate(\"+-e/this._colCount*100+\"%, \"+-t/this._rowCount*100+\"%)\"),this._colRow=[e,t])},SpriteImage.prototype.getColRow=function(){return this._colRow},SpriteImage._getSizeString=function(e){return\"number\"==typeof e?e+\"px\":e},SpriteImage.prototype.stop=function(){this._autoPlayTimer&&(clearInterval(this._autoPlayTimer),this._autoPlayTimer=null)},SpriteImage.prototype.play=function(){var e=this,t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{interval:1e3/this._totalCount,playCount:0},n=t.interval,o=t.playCount;if(!this._bg)return void(this._autoPlayReservedInfo={interval:n,playCount:o});this._autoPlayTimer&&(clearInterval(this._autoPlayTimer),this._autoPlayTimer=null);var r=this.getFrameIndex(),i=0,a=0;this._autoPlayTimer=setInterval(function(){r%=e._totalCount;var t=e.toColRow(r);e.setColRow(t[0],t[1]),r++,++a===e._totalCount&&(a=0,i++),o>0&&i===o&&clearInterval(e._autoPlayTimer)},n)},SpriteImage.prototype.toColRow=function(e){var t=this._colCount,n=this._rowCount;return e<0?[0,0]:e>=this._totalCount?[t-1,n-1]:[e%t,Math.floor(e/t)]},SpriteImage}(r[\"default\"]);t[\"default\"]=a},,,,,,,,,function(e,t,n){\"use strict\";function _interopRequireDefault(e){return e&&e.__esModule?e:{\"default\":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function _inherits(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=n(0),i=_interopRequireDefault(r),a=n(9),u=_interopRequireDefault(a),l=n(13),s=_interopRequireDefault(l),c=.21,_=function(e){function SpinViewer(t,n){_classCallCheck(this,SpinViewer);var r=_possibleConstructorReturn(this,e.call(this));r._el=t;var i=o({},n),l=i.colCount||1,_=i.rowCount||1;return r._scale=i.scale||1,r._panScale=r._scale*c,r._frameCount=l*_,r._sprites=new s[\"default\"](t,i).on({load:function(e){r.trigger(\"load\",e)},imageError:function(e){r.trigger(\"imageError\",{imageUrl:e.imageUrl})}}),r._panInput=new a.PanInput(r._el,{scale:[r._panScale,r._panScale]}),r._axes=new u[\"default\"]({angle:{range:[0,359],circular:!0}}).on({change:function(e){var t=Math.floor(e.pos.angle/(360/r._frameCount)),n=r._frameCount-t-1;r._sprites.setFrameIndex(n),r.trigger(\"change\",{frameIndex:n,colRow:r._sprites.getColRow(),angle:e.pos.angle})},animationEnd:function(e){r.trigger(\"animationEnd\",{isTrusted:e.isTrusted})}}),r._axes.connect(\"angle\",r._panInput),r}return _inherits(SpinViewer,e),SpinViewer.prototype.setScale=function(e){return isNaN(e)||e<0?this:(this._scale=e,this._panScale=e*c,this._panInput.options.scale=[this._panScale,this._panScale],this)},SpinViewer.prototype.getScale=function(){return this._scale},SpinViewer.prototype.spinBy=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0,t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{duration:0};return this._axes.setBy({angle:e},t.duration),this},SpinViewer.prototype.spinTo=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0,t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{duration:0};return this._axes.setTo({angle:e},t.duration),this},SpinViewer.prototype.getAngle=function(){return this._axes.get().angle||0},SpinViewer}(i[\"default\"]);t[\"default\"]=_},function(e,t,n){\"use strict\";function _interopRequireDefault(e){return e&&e.__esModule?e:{\"default\":e}}t.__esModule=!0,t.VERSION=t.SpriteImage=t.SpinViewer=undefined;var o=n(22),r=_interopRequireDefault(o),i=n(13),a=_interopRequireDefault(i);t.SpinViewer=r[\"default\"],t.SpriteImage=a[\"default\"],t.VERSION=\"3.0.2\",r[\"default\"].VERSION=\"3.0.2\",a[\"default\"].VERSION=\"3.0.2\"}])});\n\n\n// WEBPACK FOOTER //\n// SpinViewer/view360.spinviewer.min.js"],"mappings":";;;;;;;;;AAAA","sourceRoot":""}